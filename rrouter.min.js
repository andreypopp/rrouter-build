!function t(e,r,n){function o(a,u){if(!r[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return o(r?r:t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){function n(t,e){if(0==t[e].length)return t[e]={};var r={};for(var n in t[e])d.call(t[e],n)&&(r[n]=t[e][n]);return t[e]=r,r}function o(t,e,r,i){var a=t.shift();if(!Object.getOwnPropertyDescriptor(Object.prototype,r))if(a){var u=e[r]=e[r]||[];"]"==a?m(u)?""!=i&&u.push(i):"object"==typeof u?u[w(u).length]=i:u=e[r]=[e[r],i]:~y(a,"]")?(a=a.substr(0,a.length-1),!P.test(a)&&m(u)&&(u=n(e,r)),o(t,u,a,i)):(!P.test(a)&&m(u)&&(u=n(e,r)),o(t,u,a,i))}else m(e[r])?e[r].push(i):e[r]="object"==typeof e[r]?i:"undefined"==typeof e[r]?i:[e[r],i]}function i(t,e,r){if(~y(e,"]")){{var n=e.split("[");n.length}o(n,t,"base",r)}else{if(!P.test(e)&&m(t.base)){var i={};for(var a in t.base)i[a]=t.base[a];t.base=i}h(t.base,e,r)}return t}function a(t){if("object"!=typeof t)return t;if(m(t)){var e=[];for(var r in t)d.call(t,r)&&e.push(t[r]);return e}for(var n in t)t[n]=a(t[n]);return t}function u(t){var e={base:{}};return x(w(t),function(r){i(e,r,t[r])}),a(e.base)}function s(t){var e=b(String(t).split("&"),function(t,e){var r=y(e,"="),n=v(e),o=e.substr(0,n||r),a=e.substr(n||r,e.length),a=a.substr(y(a,"=")+1,a.length);return""==o&&(o=e,a=""),""==o?t:i(t,l(o),l(a))},{base:{}}).base;return a(e)}function c(t,e){if(!e)throw new TypeError("stringify expects an object");return e+"="+encodeURIComponent(t)}function p(t,e){var r=[];if(!e)throw new TypeError("stringify expects an object");for(var n=0;n<t.length;n++)r.push(R(t[n],e+"["+n+"]"));return r.join("&")}function f(t,e){for(var r,n=[],o=w(t),i=0,a=o.length;a>i;++i)r=o[i],""!=r&&n.push(null==t[r]?encodeURIComponent(r)+"=":R(t[r],e?e+"["+encodeURIComponent(r)+"]":encodeURIComponent(r)));return n.join("&")}function h(t,e,r){var n=t[e];Object.getOwnPropertyDescriptor(Object.prototype,e)||(void 0===n?t[e]=r:m(n)?n.push(r):t[e]=[n,r])}function v(t){for(var e,r,n=t.length,o=0;n>o;++o)if(r=t[o],"]"==r&&(e=!1),"["==r&&(e=!0),"="==r&&!e)return o}function l(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}}var g=Object.prototype.toString,d=Object.prototype.hasOwnProperty,y="function"==typeof Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1},m=Array.isArray||function(t){return"[object Array]"==g.call(t)},w=Object.keys||function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e},x="function"==typeof Array.prototype.forEach?function(t,e){return t.forEach(e)}:function(t,e){for(var r=0;r<t.length;r++)e(t[r])},b=function(t,e,r){if("function"==typeof t.reduce)return t.reduce(e,r);for(var n=r,o=0;o<t.length;o++)n=e(n,t[o]);return n},P=/^[0-9]+$/;r.parse=function(t){return null==t||""==t?{}:"object"==typeof t?u(t):s(t)};var R=r.stringify=function(t,e){return m(t)?p(t,e):"[object Object]"==g.call(t)?f(t,e):"string"==typeof t?c(t,e):e+"="+encodeURIComponent(String(t))}},{}],2:[function(t,e){var r=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1};e.exports={PatternPrototype:{match:function(t){var e,r,n,o,i,a,u,s;if(o=this.regex.exec(t),null==o)return null;if(r=o.slice(1),this.isRegex)return r;for(e={},n=u=0,s=r.length;s>u;n=++u)a=r[n],i=this.names[n],null!=a&&("_"===i?(null==e._&&(e._=[]),e._.push(a)):e[i]=a);return e}},newPattern:function(t,r){var n,o,i;if(null==r&&(r="/"),n=t instanceof RegExp,"string"!=typeof t&&!n)throw new TypeError("argument must be a regex or a string");return[":","*"].forEach(function(t){if(r===t)throw new Error("separator can't be "+t)}),o=Object.create(e.exports.PatternPrototype),o.isRegex=n,o.regex=n?t:(i=e.exports.toRegexString(t,r),new RegExp(i)),n||(o.names=e.exports.getNames(t,r)),o},escapeForRegex:function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},getNames:function(t,n){var o,i,a,u,s;if(null==n&&(n="/"),t instanceof RegExp)return[];for(o=e.exports.escapeForRegex(n),u=new RegExp("((:?:[^"+o+"()]+)|(?:[*]))","g"),a=[],s=u.exec(t);null!=s;){if(i=s[1].slice(1),"_"===i)throw new TypeError(":_ can't be used as a pattern name in pattern "+t);if(r.call(a,i)>=0)throw new TypeError("duplicate pattern name :"+i+" in pattern "+t);a.push(i||"_"),s=u.exec(t)}return a},escapeSeparators:function(t,r){var n,o;return null==r&&(r="/"),n=e.exports.escapeForRegex(r),o=new RegExp(n,"g"),t.replace(o,n)},toRegexString:function(t,r){var n,o;return null==r&&(r="/"),o=e.exports.escapeSeparators(t,r),o=o.replace(/\((.*?)\)/g,"(?:$1)?").replace(/\*/g,"(.*?)"),n=e.exports.escapeForRegex(r),e.exports.getNames(t,r).forEach(function(t){return o=o.replace(":"+t,"([^\\"+r+"]+)")}),"^"+o+"$"}}},{}],3:[function(t){!function(t,e){"function"==typeof define&&define.amd?define(["react","bluebird"],e):t.RRouter=e(t.React,t.Promise)}(window,function(){return t("./lib/")})},{"./lib/":13}],4:[function(t,e){"use strict";var r=window.React,n=t("./LinkMixin"),o=r.createClass({displayName:"Link",mixins:[n],onClick:function(t){t.preventDefault(),this.activate()},render:function(){return this.transferPropsTo(r.DOM.a({href:this.href(),onClick:this.onClick},this.props.children))}});e.exports=o},{"./LinkMixin":5}],5:[function(t,e){"use strict";var r=window.React,n=t("./invariant"),o=t("./RoutingContextMixin"),i={mixins:[o],propTypes:{to:r.PropTypes.string,href:r.PropTypes.string,query:r.PropTypes.object},activate:function(){var t=this.getRouting();this.props.href?t.navigate(this.props.href):this.props.to?t.navigateTo(this.props.to,this.props):n(!1,'provide either "to" or "href" prop to Link component')},href:function(){return this.props.href?this.props.href:this.props.to?this.getRouting().makeHref(this.props.to,this.props):void n(!1,'provide either "to" or "href" prop to Link component')}};e.exports=i},{"./RoutingContextMixin":6,"./invariant":14}],6:[function(t,e){"use strict";var r=window.React,n=t("./invariant"),o={routing:r.PropTypes.object,routes:r.PropTypes.object,match:r.PropTypes.object},i={contextTypes:o,navigate:function(t,e){n(this.context.routing,"no routing found in context"),this.context.routing.navigate(t,e)},navigateTo:function(t,e,r){n(this.context.routing,"no routing found in context"),this.context.routing.navigateTo(t,e,r)},getMatch:function(){return n(this.context.match,"no match found in context"),this.context.match},getRoutes:function(){return n(this.context.routes,"no routes found in context"),this.context.routes},getRouting:function(){return n(this.context.routing,"no routing found in context"),this.context.routing}};e.exports=i},{"./invariant":14}],7:[function(t,e){"use strict";function r(t,e,r,n,o,i,a){t=t||{};for(var u,s=[e,r,n,o,i],c=0;s[c];){u=s[c++];for(var p in u)t[p]=u[p];u.hasOwnProperty&&u.hasOwnProperty("toString")&&"undefined"!=typeof u.toString&&t.toString!==u.toString&&(t.toString=u.toString)}return t}e.exports=r},{}],8:[function(t,e){"use strict";function r(t){var e={},r={};for(var n in t){var o=c.exec(n);if(o){var i=o[1];a(!t.hasOwnProperty(i),'view property "'+n+'" would overwrite regular property "'+i+'"'),e[i]=t[n]}else r[n]=t[n]}return{views:e,props:r}}function n(t,e){return function(r){return r=null!==r&&void 0!==r?u(e,r):e,t(r)}}function o(t,e){var o=r(t),i={};for(var a in o.views)i[a]=n(o.views[a],u(o.props,e));return i}function i(t){for(var e={},r=t.activeTrace.length-1;r>=0;r--){var n=t.activeTrace[r],i=s(n);if(e=u(e,o(i,e)),void 0!==n.route.view)return n.route.view(u(i,e))}}var a=t("./invariant"),u=t("./merge"),s=t("./getStepProps"),c=/([a-zA-Z0-9]+)View$/;e.exports=i,e.exports.getViewProps=r},{"./getStepProps":12,"./invariant":14,"./merge":18}],9:[function(t,e){"use strict";function r(t,e){return function(r,n){var o=t(r,n);return o.isFulfilled()?(e.resolve(o.value()),o):o.then(function(t){return e.resolve(t),t},function(t){throw e.reject(t),t})}}function n(t){var e,n={},o={},i={},a={};for(e in t){var p=f.exec(e);if(p){var h=p[1],v=u.defer();a[h]=r(t[e],v),o[h]=v.promise}else n[e]=t[e]}if(0===Object.keys(o).length)return u.resolve(t);var l=!0;for(e in a){var g=a[e](n,o);l=l&&g.isFulfilled(),i[e]=g.isFulfilled()?g.value():g}return l?u.resolve(s(n,i)):u.props(i).then(function(t){return s(n,t)}).finally(function(){for(var t in o)o[t].catch(c)})}function o(t){var e=n(p(t));return e.isFulfilled()?u.resolve(s(t,{props:s(t.props,e.value())})):u.props(e).then(function(e){return s(t,{props:s(t.props,e)})})}function i(t,e,r){var n=t.activeTrace,i=n.length;return n.forEach(function(a,u){var c=o(a);c.isFulfilled()?(i-=1,n=n.slice(0),n[u]=c.value()):c.then(function(r){n=n.slice(0),n[u]=r,e(s(t,{activeTrace:n}))}).catch(r)}),s(t,{activeTrace:n})}function a(t){return u.all(t.activeTrace.map(o)).then(function(e){return s(t,{activeTrace:e})})}var u=window.Promise,s=t("./merge"),c=t("./emptyFunction"),p=t("./getStepProps"),f=/([a-zA-Z0-9]+)Promise$/;e.exports={fetch:a,fetchProgressively:i,fetchProps:n}},{"./emptyFunction":10,"./getStepProps":12,"./merge":18}],10:[function(t,e){"use strict";function r(t){return function(){return t}}function n(){}var o=t("./copyProperties");o(n,{thatReturns:r,thatReturnsFalse:r(!1),thatReturnsTrue:r(!0),thatReturnsNull:r(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(t){return t}}),e.exports=n},{"./copyProperties":7}],11:[function(t,e){"use strict";function r(t){var e=o(t.match,t.route.props);return t.route.viewPromise?t.route.viewPromise(e).then(function(e){return o(t,{view:e})}):t}function n(t){var e=t.activeTrace.map(r);return e.some(i.is)?i.all(e).then(function(e){return o(t,{activeTrace:e})}):i.resolve(o(t,{activeTrace:e}))}var o=t("./merge"),i=window.Promise;e.exports=n},{"./merge":18}],12:[function(t,e){"use strict";function r(t){var e={};return n(e,t.match),n(e,t.route.props),n(e,t.props),e}var n=t("./mergeInto");e.exports=r},{"./mergeInto":20}],13:[function(t,e){"use strict";function r(t){var e=Object.keys(t);return e.indexOf("path")>-1&&e.indexOf("view")>-1&&e.indexOf("props")>-1&&e.indexOf("children")>-1}var n=t("./matchRoutes"),o=t("./createView"),i=t("./routing/PathnameRouting"),a=t("./routing/HashRouting"),u=t("./Link"),s=t("./LinkMixin"),c=t("./route"),p=t("./RoutingContextMixin");e.exports={isRoutes:r,Routes:c.Routes,Route:c.Route,Link:u,LinkMixin:s,matchRoutes:n,createView:o,start:i.start.bind(i),PathnameRouting:i,HashRouting:a,RoutingContextMixin:p}},{"./Link":4,"./LinkMixin":5,"./RoutingContextMixin":6,"./createView":8,"./matchRoutes":17,"./route":21,"./routing/HashRouting":22,"./routing/PathnameRouting":23}],14:[function(t,e){"use strict";var r=function(t){if(!t){var e=new Error("Minified exception occured; use the non-minified dev environment for the full error message and additional helpful warnings.");throw e.framesToPop=1,e}};e.exports=r},{}],15:[function(t,e){"use strict";var r=t("./invariant"),n=function(t){var e,n={};r(t instanceof Object&&!Array.isArray(t),"keyMirror(...): Argument must be an object.");for(e in t)t.hasOwnProperty(e)&&(n[e]=e);return n};e.exports=n},{"./invariant":14}],16:[function(t,e){"use strict";function r(t,e,r,o){o=o||{};var i=n(t,e,r);return i.replace(/:[a-zA-Z0-9_]+/g,function(t){return o[t.slice(1)]})}function n(t,e,r){var n=o(t,e,r);i(void 0!==n&&n.length>0,'cannot resolve "%s" route reference',e);for(var a="",u=0,s=n.length;s>u;u++){var c=n[u];c.path&&c.path.length>0&&(a=a+"/"+c.path)}return""===a?"/":a}function o(t,e,r){if("/"===e[0])return a(t,e.slice(1));for(var n=r.trace.map(function(t){return t.route}),o=n[0],i=n.length-1;i>=0;i--)if(n[i].__scope){o=n[i];break}return n.slice(0,i).concat(a(o,e))}var i=t("./invariant"),a=t("./route").getTraceByName;e.exports=r,e.exports.getPattern=n},{"./invariant":14,"./route":21}],17:[function(t,e){"use strict";function r(t){return t?("/"!==t[0]&&(t="/"+t),"/"!==t[t.length-1]&&(t+="/"),t):"/"}function n(t,e){if(void 0===t.pattern&&void 0!==t.path){var n=r(t.path);Object.defineProperty(t,"pattern",{enumerable:!1,value:a.newPattern(t.children.length>0?n+"*":n)})}if(t.pattern){var o=t.pattern.match(e);return!o||o._&&"/"!==o._[0]&&""!==o._[0]||delete o._,o}return"/"===e||""===e?{}:{_:[e]}}function o(t,e,i,a,u,c){t=Array.isArray(t)?t:[t],a=a||[],u=u||[],c=void 0===c?e:c;for(var p=0,f=t.length;f>p;p++){var h=t[p],v=n(h,r(e));if(v){var l={route:h,match:v,props:{query:i}};return a=a.concat(l),u=void 0!==h.view?[l]:u.concat(l),(v._||!s(h))&&h.children.length>0?o(h.children,v._?v._[0]:"/",i,a,u,c):{path:c,route:h,trace:a,activeTrace:u}}}return{path:c,query:i,route:void 0,trace:[],activeTrace:[]}}function i(t,e,r){return o(t,e,u.parse(r))}var a=t("url-pattern"),u=t("qs"),s=t("./route").hasView;e.exports=i},{"./route":21,qs:1,"url-pattern":2}],18:[function(t,e){"use strict";var r=t("./mergeInto"),n=function(t,e){var n={};return r(n,t),r(n,e),n};e.exports=n},{"./mergeInto":20}],19:[function(t,e){"use strict";var r=t("./invariant"),n=t("./keyMirror"),o=36,i=function(t){return"object"!=typeof t||null===t},a={MAX_MERGE_DEPTH:o,isTerminal:i,normalizeMergeArg:function(t){return void 0===t||null===t?{}:t},checkMergeArrayArgs:function(t,e){r(Array.isArray(t)&&Array.isArray(e),"Tried to merge arrays, instead got %s and %s.",t,e)},checkMergeObjectArgs:function(t,e){a.checkMergeObjectArg(t),a.checkMergeObjectArg(e)},checkMergeObjectArg:function(t){r(!i(t)&&!Array.isArray(t),"Tried to merge an object, instead got %s.",t)},checkMergeLevel:function(t){r(o>t,"Maximum deep merge depth exceeded. You may be attempting to merge circular structures in an unsupported way.")},checkArrayStrategy:function(t){r(void 0===t||t in a.ArrayStrategies,"You must provide an array strategy to deep merge functions to instruct the deep merge how to resolve merging two arrays.")},ArrayStrategies:n({Clobber:!0,IndexByIndex:!0})};e.exports=a},{"./invariant":14,"./keyMirror":15}],20:[function(t,e){"use strict";function r(t,e){if(o(t),null!=e){o(e);for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}}var n=t("./mergeHelpers"),o=n.checkMergeObjectArg;e.exports=r},{"./mergeHelpers":19}],21:[function(t,e){"use strict";function r(t){t=t||{};var e=t.path?t.path.replace(s,""):void 0;delete t.path;var r=t.view;delete t.view;var n=t.viewPromise;delete t.viewPromise;var i=t.name;delete t.name;var a=t.__scope;delete t.__scope;for(var u=Array.prototype.slice.call(arguments,1),c=[],p=0,f=u.length;f>p;p++)Array.isArray(u[p])?c=c.concat(u[p]):c.push(u[p]);var h={path:e,name:i,view:r,viewPromise:n,props:t,children:c,__scope:a};return o(h),h}function n(t){t=u(t,{__scope:!0});var e=Array.prototype.slice.call(arguments,1);return e.unshift(t),r.apply(null,e)}function o(t){if(void 0===t.__nameIndex){var e={},r=t.name?t.name+"/":"";if(t.children&&t.children.length>0)for(var n=0,i=t.children.length;i>n;n++){var a=t.children[n];o(a);for(var u in a.__nameIndex)e[r+u]=[t].concat(a.__nameIndex[u])}void 0!==t.name&&(e[t.name]=[t]),Object.defineProperty(t,"__nameIndex",{enumerable:!1,value:e})}}function i(t,e){return t.__nameIndex[e]}function a(t){return void 0!==t.view||void 0!==t.viewPromise}var u=t("./merge"),s=/(^\/)|(\/$)/g;e.exports={Route:r,Routes:n,getTraceByName:i,hasView:a}},{"./merge":18}],22:[function(t,e){"use strict";function r(){null!==n&&n.apply(this,arguments)}var n=t("./Routing");for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);var i=null===n?null:n.prototype;r.prototype=Object.create(i),r.prototype.constructor=r,r.__superConstructor__=n,r.prototype.getPath=function(){return this.getParsedPath().path},r.prototype.getQuery=function(){return this.getParsedPath().query},r.prototype.getParsedPath=function(){var t=window.location.hash.slice(1)||"/",e=t.indexOf("?");return e>-1?{path:t.substring(0,e),query:t.substring(e+1)}:{path:t,query:""}},r.prototype.pushPath=function(t){window.location.hash=t},r.prototype.replacePath=function(t){var e=window.location.href.replace(/(javascript:|#).*$/,"");window.location.replace(e+"#"+t)},r.prototype.makeHref=function(t,e){return"#"+i.makeHref.call(this,t,e)},r.prototype.doStart=function(){window.addEventListener("hashchange",this.onChange)},r.prototype.doStop=function(){window.removeEventListener("hashchange",this.onChange)},e.exports=r},{"./Routing":24}],23:[function(t,e){"use strict";function r(){null!==n&&n.apply(this,arguments)}var n=t("./Routing");for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);var i=null===n?null:n.prototype;r.prototype=Object.create(i),r.prototype.constructor=r,r.__superConstructor__=n,r.prototype.getPath=function(){return window.location.pathname},r.prototype.getQuery=function(){return window.location.search.substr(1)},r.prototype.pushPath=function(t){window.history.pushState({},"",t)},r.prototype.replacePath=function(t){window.history.replaceState({},"",t)},r.prototype.doStart=function(){window.addEventListener("popstate",this.onChange)},r.prototype.doStop=function(){window.removeEventListener("popstate",this.onChange)},e.exports=r},{"./Routing":24}],24:[function(t,e){"use strict";function r(t){throw t}function n(t,e,n){this.routes=t,this.onRoute=e,this.onError=n||r,this.onChange=this.onChange.bind(this),this.path=void 0,this.match=void 0,this.started=!1}var o=t("qs"),i=window.React,a=t("../createView"),u=t("../matchRoutes"),s=t("../data"),c=t("../fetchViews"),p=t("../makeHref");n.prototype.onChange=function(){var t=this.getPath(),e=this.getQuery();if(this.path!==t||this.query!==e){this.path=t,this.query=e,this.match=u(this.routes,t,e);var r=this.match,n=function(t){this.match===r&&this.renderView(t)}.bind(this),o=c(this.match);return o.isFulfilled()?n(s.fetchProgressively(o.value(),n,this.onError)):o.then(function(t){n(s.fetchProgressively(t,n,this.onError))}.bind(this),this.onError),this.match}},n.prototype.renderView=function(t){var e={match:t,routing:this,routes:this.routes};i.withContext(e,function(){var e=a(t);this.onRoute(e,t)}.bind(this))},n.prototype.navigate=function(t,e){return e=e||{},e.replace?this.replacePath(t,e):this.pushPath(t,e),this.onChange()},n.prototype.navigateTo=function(t,e,r){var n=this.makeHref(t,e);this.navigate(n,r)},n.prototype.makeHref=function(t,e){var r=p(this.routes,t,this.match,e);return e&&e.query&&(r=r+"?"+o.stringify(e.query)),r},n.prototype.start=function(){return this.started||(this.doStart(),this.onChange(),this.started=!0),this},n.prototype.stop=function(){return this.started&&(this.doStop(),this.started=!1),this},n.start=function(t,e,r){return new this(t,e,r).start()},e.exports=n},{"../createView":8,"../data":9,"../fetchViews":11,"../makeHref":16,"../matchRoutes":17,qs:1}]},{},[3]);